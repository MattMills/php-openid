name: Run PHPUnit tests

on:
  push:
  pull_request: 
  release:
    types: published
  workflow_dispatch:

jobs:
  unit-tests:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Install GMP
      run: sudo apt-get -y install php-gmp
    - name: Docker PHP ext enable gmp
      run: docker-php-ext-enable gmp
    - uses: php-actions/composer@v6
    - name: Run Unit Tests
      run: php admin/texttest.php
